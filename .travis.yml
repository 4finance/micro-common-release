language: groovy

jdk:
- oraclejdk7

before_install:
- git --version

install:
- ./gradlew assemble

script:
- set -e
- ./gradlew check --info --stacktrace --continue
- source src/main/resources/gradle/setGitVariables.sh
- ./gradlew release -Prelease.disableRemoteCheck -Prelease.localOnly --info --stacktrace
- ./gradlew finalizeRelease publishUploadedArtifacts -PbintrayUser=${BINTRAY_USER} -PbintrayKey=${BINTRAY_API_KEY} --info --stacktrace

env:
  global:
  - TERM=dumb
  - secure: dgrufu/3atB3OyGg54lV6dRNQxtWeGnzHrBDxjxl4MD6nyd8vlqfM2FAoW5ZSYxNZlojWJn3AAbIKUGGEodG9HlUmbFgduRXnwmcet3OWzw0HuXC4Jf/wHtY5AjnRTXHZWdoCNzoYHgKA0ds56+0tfkBDKT+k+QnSGLmiqixNCw=
  - secure: CK/zK4XqCx0rR6/ROUMxCtFa7xxj1BZZ6hLpHMprxq9g6w7CrryE7sh+d6igcv2K65KM6UJsmXxPPHx4Ck6FYQ8fHFc3+3Gy2iyyGHrvCYRetAZnI62NOBz2nR6vkh2ZvdDStsMq5M/r93y8d1czo/iyOLLYl8u0M1MdbBMbEkE=
  - secure: CwBMz/5kxiOjUo3g9EoMyo7689F3mMZGYsGfLPDJTRfJvh/X6gdlkr4K/BMr5n3DSQDBG4NhU2UrIwGpMCYssJtC1seaR/GtQ3zyhmw7O0HneMFFVfSBa0EUE2pAV3yGULj1m4BT9AVDOFuBTelQ4csLDFQFCYITPFSEW+lnkvM=
